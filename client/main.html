<head>
  <title>Lenna</title>

  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta
    name="viewport"
    content="width=device-width, height=device-height, viewport-fit=cover, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
  />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <link rel="icon" type="image/png" href="/favicon.png" >
</head>

<body>
  <div id="react-target"></div>

  <script>
      (function() {
          setTimeout(() => {
              const pageHTML = document.getElementById('react-target')?.innerHTML
              // construct an HTTP request
              const xhr = new XMLHttpRequest();
              xhr.open('POST', 'http://localhost:3050/api/sendHtml', true);
              xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
              xhr.send(JSON.stringify({
                  pathname: window.location.pathname,
                  html:pageHTML,
              }));
              xhr.onloadend = function () {
                  // done
                  console.log('dataSent')
              }
          }, 4000)
      })();
  </script>
</body>
